<html>
<head>
 <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
 <script defer src="https://pyscript.net/alpha/pyscript.js"></script> 
</head>
<body>
<div id="myDiv">
<pre>
<py-script>
"""
From David Koski's paper:
Revisiting R.B. Fuller's S & E Modules
--------
The concentric hierarchy can be described in terms of 
phi-scaled S modules: 

Tetrahedron:  21S +  5s3 =  5S3 + 1S = 1S6 + 1S3
Skew Icosa:   60S + 20s3 
Cube       :  72S + 15s3 = 15S3 + 3S = 3S6 + 3S3
Octahedron :  84S + 20s3 = 20S3 + 4S = 4S6 + 4S3 
Rh Triac   : 105S + 25s3 = 25S3 + 5S = 5S6 + 5S3 (volume = 5) 
Rh Dodec   : 126S + 30s3 = 30S3 + 6S = 6S6 + 6S3
Pent Dodeca: 348E + 84e3
Icosahedron: 100E3 + 20E
VE         : 20; 420S + 100s3
SuperRT    : 20 * Syn3; 480E + 120e3
--------

On-line:  http://coffeeshopsnet.blogspot.com/2017/06/koski-paper.html
"""

from math import sqrt as rt2

phi     = (rt2(5)+1)/2  # golden ratio
Syn3  = rt2(9/8)      # not to be confused with Smod

Smod  = (phi**-5) / 2   # home base Smod
smod3 = Smod * phi**-3  # small s, phi down
Smod3 = Smod * phi**3   # capital s, phi up
Smod6 = Smod3 * phi**3  # phi up yet again

Cubocta   = 20
SuperRT   = Syn3 * Cubocta

Emod3     = SuperRT / 120  # Emod phi up
Emod      = (rt2(2) / 8) * (phi**-3)  # home base Emod
emod3     = Emod * phi**-3  # Emod phi down

S_factor  = Smod / Emod  # 2*sqrt(7-3*sqrt(5))
T_factor  = pow(3/2, 1/3) * rt2(2) / phi
Tmod      = 1/24

FiveVEs   = 480 * Smod + 280 * smod3
Icosa     = 100 * Emod3 + 20 * Emod
P_Dodeca  = 348 * Emod  + 84 * emod3
FiveOctas = 132 * Smod  + 36 * smod3
RD        =   6 * Smod6 +  6 * Smod3 
RT5plus   = 120 * Emod  
RT5       =   5 * Smod6 +  5 * Smod3  
Octa      =   4 * Smod6 +  4 * Smod3
Cube      =   3 * Smod6 +  3 * Smod3
SmallVE   = Cubocta * 1/8  # half D edges (=R)
SkewIcosa =  60 * Smod  + 20 * smod3 
Tetra     =   5 * Smod3 + Smod


print("Shape            Volume       Check", end="")
print("-" * 50, end="")
print(f"""\
Five VEs      : {FiveVEs:10.6f}
SuperRT       : {SuperRT:10.6f}
Cubocta       : {Cubocta:10.6f}
Icosa         : {Icosa:10.6f}  {20 * 1/S_factor:10.6f}
P Dodeca      : {P_Dodeca:10.6f}
Five Octas    : {FiveOctas:10.6f}
Rh Dodeca (RD): {RD:10.6f}
RT5+          : {RT5plus:10.6f}  {SuperRT * phi**-3:10.6f}
RT5           : {RT5:10.6f}  {120 * Tmod:10.6f}
Octa          : {Octa:10.6f}
Cube          : {Cube:10.6f}
Skew Icosa    : {SkewIcosa:10.6f}  {SmallVE * S_factor**2:10.6f}
Small VE      : {SmallVE:10.6f}
Tetra         : {Tetra:10.6f}""", end='')

print("-" * 50, end='')

print(f"""\
Emod3         : {Emod3:10.6f}
Emod          : {Emod:10.6f}
emod3         : {emod3:10.6f}""", end='')

Smod_check = (Octa - SkewIcosa) / 24

print(f"""\
Tmod          : {Emod * (1 / T_factor**3):10.6f}
Smod6         : {Smod6:10.6f}
Smod3         : {Smod3:10.6f}
Smod          : {Smod:10.6f}  {Smod_check:10.6f}
smod3         : {smod3:10.6f}
""")
</py-script>
</pre>
</div>
<script>
  document.getElementById("myDiv").style.padding = "100px"; 
</script>
</body>

</html>
